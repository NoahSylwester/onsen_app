<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
  <script src="https://unpkg.com/onsenui/js/onsenui.min.js">
  </script>
</head>

<body>

  <ons-splitter>
    <!-- The side menu -->
    <ons-splitter-side id="menu" collapse>
      <ons-page>
        <ons-list>
          <ons-list-item onclick="loadPage('about.html')">
            About
          </ons-list-item>
        </ons-list>
      </ons-page>
    </ons-splitter-side>

    <!-- Everything not in the side menu -->
    <ons-splitter-content>
      <ons-navigator id="navigator" page="login.html"></ons-navigator>
    </ons-splitter-content>
  </ons-splitter>



  <template id="login.html">
    <ons-page id="login">
      <script>
        const login = () => {
          const username = document.querySelector('#username').value;
          const password = document.querySelector('#password').value;

          if (username === '' && password === '') {
            // call the navigator to move to the new page
            const navigator = document.querySelector('#navigator');
            navigator.resetToPage('home.html');
          } else {
            ons.notification.alert('Wrong username/password combination');
          }
        };
      </script>

      <div style="text-align: center; margin-top: 200px">
        <p>
          <ons-input id="username" placeholder="Username" modifier="underbar"></ons-input>
        </p>

        <p>
          <ons-input id="password" placeholder="Password" type="password" modifier="underbar">
          </ons-input>
        </p>

        <p>
          <ons-button onclick="login()">Sign in</ons-button>
        </p>
      </div>

    </ons-page>
  </template>



  <template id="home.html">
    <ons-page id="home">
      <script>
        const openMenu = () => {
          document.querySelector('#menu').open();
        };
      </script>
  
      <ons-toolbar id="home-toolbar">
        <div class="center">Pokémon</div>
  
        <div class="left">
          <ons-toolbar-button onclick="openMenu()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
  
      <ons-tabbar id="tabbar">
        <ons-tab page="pokemon.html" label="Pokémon" icon="md-face"></ons-tab>
        <ons-tab page="saved.html" label="Saved" icon="md-menu"></ons-tab>
      </ons-tabbar>
      <script>
        document.addEventListener('prechange', ({ target, tabItem }) => {
          if (target.matches('#tabbar')) {
            document.querySelector('#home-toolbar .center').innerHTML = tabItem.getAttribute('label');
          }
        });
      </script>
    </ons-page>
  </template>


  
  <template id="about.html">
    <ons-page id="about">
      <ons-toolbar>
        <div class="left">
          <ons-back-button></ons-back-button>
        </div>
        <div class="center">About</div>
      </ons-toolbar>

      This is the about page.
    </ons-page>
  </template>


<template id="pokemon.html">
  <ons-page id="pokemon">

    <script>
    </script>

    <ons-list id="pokemon-list">
      <ons-list-item expandable>
        bulbasaur
        <div class="expandable-content">
          <ons-button onclick="savePokemon(1, this)">Save</ons-button>
        </div>
      </ons-list-item>

      <ons-list-item expandable>
        charmander
        <div class="expandable-content">
          <ons-button onclick="savePokemon(4, this)">Save</ons-button>
        </div>
      </ons-list-item>

      <ons-list-item expandable>
        squirtle
        <div class="expandable-content">
          <ons-button onclick="savePokemon(7, this)">Save</ons-button>
        </div>
      </ons-list-item>

      <ons-list-item expandable>
        pikachu
        <div class="expandable-content">
          <ons-button onclick="savePokemon(25, this)">Save</ons-button>
        </div>
      </ons-list-item>

      <ons-list-item expandable>
        trubbish
        <div class="expandable-content">
          <ons-button onclick="savePokemon(568, this)">Save</ons-button>
        </div>
      </ons-list-item>
    </ons-list>

  <script>
    const savePokemon = (pokenumber, button) => {
      addPokemonToGrid(pokenumber);
      button.parentNode.parentNode.hideExpansion();
    };
  </script>
  </ons-page>
</template>



  <template id="saved.html">
    <ons-page id="saved">
  
      <script>
      </script>
  
      <p>Saved Pokémon go here.</p>
  
    <script>
      let savedPokemon = [];

      const addPokemonToGrid = pokenumber => {
        // we save a list so we can pass it to the gallery
        savedPokemon.push(pokenumber);
      };
    </script>
    </ons-page>
  </template>

  <script>
    const loadPage = (page) => {
      document.querySelector('#menu').close();
      document.querySelector('#navigator').bringPageTop(page, { animation: 'fade' });
    };
  </script>
</body>

</html>
